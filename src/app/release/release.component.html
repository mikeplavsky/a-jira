<mat-card class="mat-elevation-z4">

  <mat-card-header>

    <mat-card-title>
      {{release.key}}
    </mat-card-title>

    <mat-card-subtitle mat-line>
      {{ release.value.startDate | date: 'mediumDate'}}
    </mat-card-subtitle>

    <mat-card-subtitle mat-line>
      {{ release.value.releaseDate | date: 'mediumDate'}}
    </mat-card-subtitle>

    <mat-card-subtitle *ngIf="releaseStats$ | async as stats">

      <br>

      <mat-card-subtitle *ngIf="!release.value.released;else releasedPoints">
        {{ stats.done_points}} of
        {{ stats.points}} ps.
      </mat-card-subtitle>

      <ng-template #releasedPoints>
        <mat-card-subtitle>
          {{ stats.points }} ps.
        </mat-card-subtitle>
      </ng-template>

      <mat-card-subtitle *ngIf="!release.value.released; else releasedFeatures">
        {{ stats.done_features }} of
        {{ stats.features }} fs.
      </mat-card-subtitle>

      <ng-template #releasedFeatures>
        <mat-card-subtitle>
          {{ stats.features }} fs.
        </mat-card-subtitle>
      </ng-template>

      <ng-container *ngIf="!release.value.released">

        <br>

        <mat-card-subtitle>
          {{ stats.points - stats.done_points }} ps.
        </mat-card-subtitle>

        <mat-card-subtitle>
          {{ stats.features - stats.done_features }} fs.
        </mat-card-subtitle>

      </ng-container>

    </mat-card-subtitle>
  </mat-card-header>
</mat-card>